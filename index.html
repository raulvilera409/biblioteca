<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Biblioteca Profª Wanda Mascagni de Sá</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f7fa;
    }

    header {
      background-color: #1e90ff;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 26px;
      font-weight: bold;
    }

    nav {
      background-color: #2c3e50;
      padding: 10px;
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
    }

    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      padding: 10px 20px;
      transition: background-color 0.3s;
      border-radius: 5px;
    }

    nav a:hover {
      background-color: #34495e;
    }

    .container {
      padding: 20px;
      max-width: 1200px;
      margin: auto;
    }

    h2 {
      color: #1e90ff;
      margin-bottom: 20px;
    }

    form {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .row {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .col {
      flex: 1;
      min-width: 250px;
    }

    input, select, button {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    button {
      background-color: #1e90ff;
      color: white;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }

    button:hover {
      background-color: #1c86ee;
    }

    .mensagem {
      margin-top: 20px;
      background-color: #1e90ff;
      color: white;
      padding: 10px;
      border-radius: 5px;
      text-align: center;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    table, th, td {
      border: 1px solid #ccc;
    }

    th, td {
      padding: 10px;
      text-align: left;
    }

    .table-actions {
      display: flex;
      justify-content: flex-end;
      margin-top: 10px;
      gap: 10px;
    }

    @media (max-width: 768px) {
      .row {
        flex-direction: column;
      }

      nav {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>
  <header>Biblioteca Profª Wanda Mascagni de Sá</header>

  <nav>
    <a href="#" onclick="showSection('alunos')">Cadastro de Alunos</a>
    <a href="#" onclick="showSection('livros')">Registro de Livros</a>
    <a href="#" onclick="showSection('dashboard')">Dashboard</a>
    <a href="#" onclick="showSection('registrosEmprestimos')">Registros de Empréstimos</a>
    <a href="#" onclick="showSection('registrosLivros')">Registro de Livros</a>
  </nav>

  <div class="container">
    <!-- Cadastro de Alunos -->
    <section id="alunos">
      <h2>Cadastro de Alunos</h2>
      <form id="formAlunos">
        <div class="row">
          <div class="col">
            <label for="nomeAluno">Nome Completo</label>
            <input type="text" id="nomeAluno" placeholder="Digite o nome do aluno">
          </div>
          <div class="col">
            <label for="serieAluno">Série</label>
            <input type="text" id="serieAluno" placeholder="Digite a série">
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label for="salaAluno">Sala</label>
            <input type="text" id="salaAluno" placeholder="Digite a sala">
          </div>
          <div class="col">
            <label for="raAluno">RA</label>
            <input type="text" id="raAluno" placeholder="Digite o RA">
          </div>
          <div class="col">
            <label for="nascimentoAluno">Data de Nascimento</label>
            <input type="date" id="nascimentoAluno">
          </div>
        </div>
        <h3>Informações do Livro Emprestado</h3>
        <div class="row">
          <div class="col">
            <label for="tituloLivro">Título do Livro</label>
            <input type="text" id="tituloLivro" placeholder="Digite o título do livro">
          </div>
          <div class="col">
            <label for="autorLivro">Autor</label>
            <input type="text" id="autorLivro" placeholder="Digite o autor do livro">
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label for="dataRegistro">Data de Registro</label>
            <input type="date" id="dataRegistro" onchange="calcularDevolucao()">
          </div>
          <div class="col">
            <label for="dataDevolucao">Data de Devolução</label>
            <input type="text" id="dataDevolucao" disabled>
          </div>
        </div>
        <button type="button" onclick="registrarAluno()">Registrar Aluno e Empréstimo</button>
      </form>
    </section>

    <!-- Registro de Livros -->
    <section id="livros" style="display: none;">
      <h2>Registro de Livros</h2>
      <form id="formLivros">
        <div class="row">
          <div class="col">
            <label for="numeroInscricao">Número de Inscrição</label>
            <input type="text" id="numeroInscricao" placeholder="ID interno do livro">
          </div>
          <div class="col">
            <label for="nomeLivroRegistro">Nome do Livro</label>
            <input type="text" id="nomeLivroRegistro" placeholder="Digite o nome do livro">
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label for="autorLivroRegistro">Autor(a)</label>
            <input type="text" id="autorLivroRegistro" placeholder="Digite o nome do autor(a)">
          </div>
          <div class="col">
            <label for="editoraLivro">Editora</label>
            <input type="text" id="editoraLivro" placeholder="Digite a editora">
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label for="anoPublicacao">Ano de Publicação</label>
            <input type="number" id="anoPublicacao" placeholder="Digite o ano de publicação">
          </div>
          <div class="col">
            <label for="secaoLivro">Seção</label>
            <select id="secaoLivro">
              <option value="">Selecione...</option>
              <option value="Aventura">Aventura</option>
              <option value="Literatura">Literatura</option>
              <option value="Exatas">Exatas</option>
              <option value="Tecnologia">Tecnologia</option>
              <option value="Humanas">Humanas</option>
            </select>
          </div>
        </div>
        <button type="button" onclick="registrarLivro()">Registrar Livro</button>
      </form>
    </section>

    <!-- Registros de Empréstimos -->
    <section id="registrosEmprestimos" style="display: none;">
      <h2>Registros de Empréstimos</h2>
      <table>
        <thead>
          <tr>
            <th>Nome do Aluno</th>
            <th>Série</th>
            <th>Sala</th>
            <th>RA</th>
            <th>Livro Emprestado</th>
            <th>Autor</th>
            <th>Data de Registro</th>
            <th>Data de Devolução</th>
          </tr>
        </thead>
        <tbody id="tabelaEmprestimos"></tbody>
      </table>
      <div class="table-actions">
        <button onclick="limparTabela('tabelaEmprestimos')">Limpar Tabela</button>
        <button onclick="excluirTabela('tabelaEmprestimos')">Excluir Tabela</button>
      </div>
    </section>

    <!-- Registros de Livros -->
    <section id="registrosLivros" style="display: none;">
      <h2>Registro de Livros</h2>
      <table>
        <thead>
          <tr>
            <th>Número de Inscrição</th>
            <th>Nome do Livro</th>
            <th>Autor</th>
            <th>Editora</th>
            <th>Ano de Publicação</th>
            <th>Seção</th>
          </tr>
        </thead>
        <tbody id="tabelaLivros"></tbody>
      </table>
      <div class="table-actions">
        <button onclick="limparTabela('tabelaLivros')">Limpar Tabela</button>
        <button onclick="excluirTabela('tabelaLivros')">Excluir Tabela</button>
      </div>
    </section>

    <!-- Dashboard -->
    <section id="dashboard" style="display: none;">
      <h2>Dashboard</h2>
      <div class="mensagem">Gráficos e Informações Estatísticas aparecerão aqui.</div>
    </section>
  </div>

  <script>
    const registrosEmprestimos = [];
    const registrosLivros = [];

    function showSection(sectionId) {
      document.querySelectorAll('section').forEach(section => section.style.display = 'none');
      document.getElementById(sectionId).style.display = 'block';
    }

    function calcularDevolucao() {
      const dataRegistro = document.getElementById('dataRegistro').value;
      if (!dataRegistro) return;

      const retirada = new Date(dataRegistro);
      let diasUteisAdicionados = 0;

      while (diasUteisAdicionados < 15) {
        retirada.setDate(retirada.getDate() + 1);
        const diaSemana = retirada.getDay();
        if (diaSemana !== 0 && diaSemana !== 6) diasUteisAdicionados++;
      }
      document.getElementById('dataDevolucao').value = retirada.toISOString().split('T')[0];
    }

    function registrarAluno() {
      const aluno = {
        nome: document.getElementById("nomeAluno").value,
        serie: document.getElementById("serieAluno").value,
        sala: document.getElementById("salaAluno").value,
        ra: document.getElementById("raAluno").value,
        nascimento: document.getElementById("nascimentoAluno").value,
        tituloLivro: document.getElementById("tituloLivro").value,
        autorLivro: document.getElementById("autorLivro").value,
        dataRegistro: document.getElementById("dataRegistro").value,
        dataDevolucao: document.getElementById("dataDevolucao").value,
      };

      if (Object.values(aluno).some(campo => !campo)) {
        alert("Preencha todos os campos obrigatórios!");
        return;
      }

      registrosEmprestimos.push(aluno);
      atualizarTabelaEmprestimos();
    }

    function registrarLivro() {
      const livro = {
        numeroInscricao: document.getElementById("numeroInscricao").value,
        nomeLivro: document.getElementById("nomeLivroRegistro").value,
        autorLivro: document.getElementById("autorLivroRegistro").value,
        editora: document.getElementById("editoraLivro").value,
        anoPublicacao: document.getElementById("anoPublicacao").value,
        secao: document.getElementById("secaoLivro").value,
      };

      if (Object.values(livro).some(campo => !campo)) {
        alert("Preencha todos os campos obrigatórios!");
        return;
      }

      registrosLivros.push(livro);
      atualizarTabelaLivros();
    }

    function atualizarTabelaEmprestimos() {
      const tabela = document.getElementById("tabelaEmprestimos");
      tabela.innerHTML = registrosEmprestimos.map(registro => `
        <tr>
          <td>${registro.nome}</td>
          <td>${registro.serie}</td>
          <td>${registro.sala}</td>
          <td>${registro.ra}</td>
          <td>${registro.tituloLivro}</td>
          <td>${registro.autorLivro}</td>
          <td>${registro.dataRegistro}</td>
          <td>${registro.dataDevolucao}</td>
        </tr>
      `).join("");
    }

    function atualizarTabelaLivros() {
      const tabela = document.getElementById("tabelaLivros");
      tabela.innerHTML = registrosLivros.map(registro => `
        <tr>
          <td>${registro.numeroInscricao}</td>
          <td>${registro.nomeLivro}</td>
          <td>${registro.autorLivro}</td>
          <td>${registro.editora}</td>
          <td>${registro.anoPublicacao}</td>
          <td>${registro.secao}</td>
        </tr>
      `).join("");
    }

    function limparTabela(tabelaId) {
      const tabela = document.getElementById(tabelaId);
      const linhas = tabela.querySelectorAll("tr");
      linhas.forEach((linha, index) => {
        if (index !== 0) { // Ignorar cabeçalho
          linha.querySelectorAll("td").forEach(celula => celula.textContent = "");
        }
      });
    }

    function excluirTabela(tabelaId) {
      const tabela = document.getElementById(tabelaId);
      tabela.innerHTML = ""; // Remove todas as linhas
    }
  </script>
</body>
</html>
